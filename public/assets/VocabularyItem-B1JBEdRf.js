import{g as d,h as W,K as Se,B as Y,i as Ee,L as Te,c as r,b as t,k as p,e as v,t as n,q as L,v as U,x as Ve,F as se,l as oe,s as Z,n as w,j as Le,J as Ae,M as R,u as Ie,o as u}from"./index-klw2IyYl.js";const Ue={id:"vocabulary-items",class:"content-page"},ze={class:"mb-6"},Pe={class:"flex justify-between items-center"},Re={class:"text-2xl font-bold text-gray-800"},je={class:"text-gray-600"},$e={class:"flex space-x-2"},We={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},De={class:"bg-white p-6 rounded-lg card-shadow"},Be={class:"flex items-center"},Me={class:"ml-4"},Fe={class:"text-2xl font-bold text-gray-800"},Ne={class:"bg-white p-6 rounded-lg card-shadow"},Oe={class:"flex items-center"},qe={class:"ml-4"},He={class:"text-2xl font-bold text-gray-800"},Ge={class:"bg-white p-6 rounded-lg card-shadow"},Qe={class:"flex items-center"},Je={class:"ml-4"},Ke={class:"text-2xl font-bold text-gray-800"},Ye={class:"bg-white p-6 rounded-lg card-shadow"},Ze={class:"flex items-center"},Xe={class:"ml-4"},et={class:"text-2xl font-bold text-gray-800"},tt={class:"bg-white rounded-lg card-shadow mb-6"},lt={class:"p-6 border-b border-gray-200"},st={class:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4"},ot={class:"flex-1"},at={class:"bg-white rounded-lg card-shadow"},rt={key:0,class:"flex justify-center py-12"},ut={key:1,class:"text-center py-12"},nt={class:"text-gray-500"},it={key:2,class:"divide-y divide-gray-200"},dt={class:"flex items-center justify-between"},ct={class:"flex items-center flex-1"},vt={class:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mr-4"},gt=["src","alt"],pt={key:1,class:"fas fa-font text-gray-400 text-2xl"},bt={class:"flex-1"},mt={class:"flex items-center space-x-4"},ft={class:"text-lg font-semibold text-gray-800"},xt={class:"flex items-center space-x-4 text-sm text-gray-600"},yt={key:0},ht={key:1},wt={class:"flex items-center space-x-2"},_t=["onClick","title"],kt={key:2,class:"px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full"},Ct={key:3,class:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full"},St={key:4,class:"px-2 py-1 bg-gray-100 text-gray-800 text-xs rounded-full"},Et={key:0,class:"text-sm text-gray-500 mt-2"},Tt={class:"flex space-x-2 ml-4"},Vt=["onClick"],Lt=["onClick"],At={key:3,class:"px-6 py-4 border-t border-gray-200"},It={class:"flex items-center justify-between"},Ut={class:"text-sm text-gray-700"},zt={class:"flex space-x-2"},Pt=["disabled"],Rt=["onClick"],jt=["disabled"],$t={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50"},Wt={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto mx-4"},Dt={class:"p-6 border-b border-gray-200"},Bt={class:"text-lg font-semibold text-gray-800"},Mt={class:"p-6"},Ft={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Nt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ot={class:"space-y-2"},qt={class:"flex space-x-2"},Ht={class:"flex-1 relative"},Gt={key:0,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},Qt={key:0,class:"fas fa-spinner fa-spin text-gray-400 text-sm"},Jt={key:1,class:"fas fa-check text-green-500 text-sm"},Kt={key:2,class:"fas fa-times text-red-500 text-sm"},Yt=["title"],Zt={class:"flex space-x-2"},Xt=["disabled"],el=["disabled"],tl={class:"bg-blue-50 p-4 rounded-lg"},ll={class:"text-sm text-blue-800 space-y-2"},sl={key:0},ol={key:1},al={key:0,class:"flex items-center space-x-2"},rl={key:1,class:"flex items-center space-x-2"},ul=["src","alt"],nl={class:"p-6 border-t border-gray-200 flex justify-end space-x-2"},il=["disabled"],dl={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50"},cl={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4"},vl={class:"p-6"},gl={class:"space-y-6"},pl={key:0,class:"text-sm text-green-600 mb-2"},bl={class:"bg-yellow-50 p-4 rounded-lg"},ml={class:"text-sm text-yellow-800"},fl={class:"mt-2"},xl={class:"p-6 border-t border-gray-200 flex justify-end space-x-2"},yl=["disabled"],hl={key:0,class:"fas fa-spinner fa-spin mr-2"},kl={__name:"VocabularyItem",setup(wl){const ae=Se(),re=Ie(),x=d([]),D=d(null),_=d(!0),B=d(!1),M=d(!1),H=d(!1),S=d(null),E=d(""),A=d("all"),b=d(1),j=d(10),k=d(null),F=d(null),g=d(null),i=d(null),c=d({}),o=d({word:"",uzbek:"",rus:"",example:"",audio_url:"",image_url:"",set_id:null}),T=W(()=>ae.params.id),z=W(()=>x.value.filter(e=>{const l=!E.value||e.word?.toLowerCase().includes(E.value.toLowerCase())||(e.uzbek||e.uzbekTranslation)?.toLowerCase().includes(E.value.toLowerCase())||(e.rus||e.russianTranslation)?.toLowerCase().includes(E.value.toLowerCase()),a=A.value==="all"||A.value==="with-audio"&&e.audio_url||A.value==="with-images"&&e.image_url||A.value==="with-examples"&&e.example;return l&&a})),ue=W(()=>{const s=(b.value-1)*j.value,e=s+j.value;return z.value.slice(s,e)}),N=W(()=>Math.ceil(z.value.length/j.value)),O=W(()=>{const s=x.value.length,e=x.value.filter(f=>f.audio_url).length,l=x.value.filter(f=>f.image_url).length,a=x.value.filter(f=>f.example).length;return{total:s,withAudio:e,withImages:l,withExamples:a}}),ne=async()=>{try{if(T.value){const s=await Ae.getById(T.value);D.value=s}}catch(s){console.error("Error loading vocabulary set:",s)}},q=async()=>{try{if(_.value=!0,T.value){const s=await R.getBySetId(T.value);x.value=Array.isArray(s)?s:[]}else{const s=await R.getAll();x.value=Array.isArray(s)?s:[]}}catch(s){console.error("Error loading vocabulary items:",s),x.value=[]}finally{_.value=!1}},ie=()=>{S.value=null,o.value={word:"",uzbek:"",rus:"",example:"",audio_url:"",image_url:"",set_id:T.value},M.value=!0},de=s=>{S.value=s,o.value={word:s.word||"",uzbek:s.uzbek||s.uzbekTranslation||"",rus:s.rus||s.russianTranslation||"",example:s.example||"",audio_url:s.audio_url||"",image_url:s.image_url||"",set_id:s.set_id||T.value},M.value=!0},X=async()=>{try{M.value=!1,S.value=null}catch(s){console.error("Error closing modal:",s)}},ee=async()=>{try{B.value=!0,console.log("Submitting vocabulary item:",o.value),S.value?(console.log("Updating item with ID:",S.value.id),await R.update(S.value.id,o.value)):(console.log("Creating new item"),await R.create(o.value)),await q(),X(),console.log("Vocabulary item saved successfully")}catch(s){console.error("Error saving vocabulary item:",s),alert(`Error saving vocabulary item: ${s.message}`)}finally{B.value=!1}},ce=async s=>{if(confirm(`Are you sure you want to delete "${s.word}"?`))try{await R.delete(s.id),await q()}catch(e){console.error("Error deleting vocabulary item:",e)}},ve=()=>{re.push("/vocabulary")},G=s=>{if(s){if(i.value===s&&g.value){g.value.pause(),g.value.currentTime=0,g.value=null,i.value=null;return}g.value&&(g.value.pause(),g.value.currentTime=0);try{const e=new Audio(s);g.value=e,i.value=s,e.addEventListener("ended",()=>{g.value=null,i.value=null}),e.addEventListener("error",l=>{console.error("Error playing audio:",l),alert("Error playing audio. Please check the audio URL."),g.value=null,i.value=null}),e.play().catch(l=>{console.error("Error playing audio:",l),alert("Error playing audio. Please check the audio URL."),g.value=null,i.value=null})}catch(e){console.error("Error creating audio:",e),alert("Error playing audio. Please check the audio URL.")}}},Q=async s=>{if(!s){c.value[s]=null;return}c.value[s]="checking";try{const e=new Audio;return new Promise(l=>{const a=setTimeout(()=>{c.value[s]="error",l(!1)},5e3);e.addEventListener("canplaythrough",()=>{clearTimeout(a),c.value[s]="valid",l(!0)}),e.addEventListener("error",()=>{clearTimeout(a),c.value[s]="error",l(!1)}),e.src=s})}catch{return c.value[s]="error",!1}},te=async s=>{if(!s||!s.trim()){alert("Please enter a word first");return}try{const l=`https://impulselc.uz/api/v1/tts?lang=en-au&text=${encodeURIComponent(s.trim())}`,a=new Audio;a.addEventListener("canplaythrough",()=>{o.value.audio_url=l,Q(l),console.log("TTS Audio URL generated successfully:",l)}),a.addEventListener("error",()=>{alert("Failed to generate TTS audio. Please try again or enter a different word.")}),a.src=l}catch(e){console.error("Error generating TTS audio URL:",e),alert("Error generating TTS audio URL")}},ge=s=>{if(!s||!s.trim()){alert("Please enter a word first");return}try{const l=`https://ssl.gstatic.com/dictionary/static/sounds/oxford/${s.trim().toLowerCase().replace(/[^a-z]/g,"")}--_gb_1.mp3`,a=new Audio;a.addEventListener("canplaythrough",()=>{o.value.audio_url=l,Q(l),console.log("Oxford Audio URL generated successfully:",l)}),a.addEventListener("error",()=>{console.log("Oxford audio not available for this word, trying TTS instead..."),te(s)}),a.src=l}catch(e){console.error("Error generating Oxford audio URL:",e),alert("Error generating Oxford audio URL")}},le=()=>{H.value=!1,k.value=null,F.value&&(F.value.value="")},pe=()=>{if(x.value.length===0){alert("No vocabulary items to export");return}const s=["word","uzbek","rus","example","audio_url","image_url"],e=[s.join(","),...x.value.map(C=>s.map(P=>{let y="";return P==="uzbek"?y=C.uzbek||C.uzbekTranslation||"":P==="rus"?y=C.rus||C.russianTranslation||"":y=C[P]||"",y.includes(",")||y.includes('"')?`"${y.replace(/"/g,'""')}"`:y}).join(","))].join(`
`),l=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),f=URL.createObjectURL(l);a.setAttribute("href",f),a.setAttribute("download",`vocabulary_${D.value?.title||"items"}_${new Date().toISOString().split("T")[0]}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},be=s=>{const e=s.target.files[0];if(e){if(e.type!=="text/csv"&&!e.name.toLowerCase().endsWith(".csv")){alert("Please select a CSV file");return}k.value=e}},me=s=>{s.preventDefault();const e=s.dataTransfer.files;if(e.length>0){const l=e[0];if(l.type!=="text/csv"&&!l.name.toLowerCase().endsWith(".csv")){alert("Please drop a CSV file");return}k.value=l}},fe=s=>{s.preventDefault()},xe=s=>{const e=s.split(`
`).filter(m=>m.trim());if(e.length<2)throw new Error("CSV file must have at least a header row and one data row");const l=m=>{const $=[];let h="",V=!1;for(let I=0;I<m.length;I++){const K=m[I],Ce=m[I+1];K==='"'?V&&Ce==='"'?(h+='"',I++):V=!V:K===","&&!V?($.push(h.trim()),h=""):h+=K}return $.push(h.trim()),$},a=l(e[0]).map(m=>m.toLowerCase()),f=["word"],C=["uzbek","rus","example","audio_url","image_url"],P=f.filter(m=>!a.includes(m));if(P.length>0)throw new Error(`Missing required columns: ${P.join(", ")}`);const y=[];for(let m=1;m<e.length;m++){const $=l(e[m]),h={set_id:T.value};a.forEach((V,I)=>{(f.includes(V)||C.includes(V))&&(h[V]=$[I]||"")}),h.word&&h.word.trim()&&y.push(h)}return y},ye=async()=>{if(!k.value){alert("Please select a CSV file first");return}try{_.value=!0;const s=await k.value.text(),e=xe(s);if(e.length===0){alert("No valid vocabulary items found in CSV file");return}await R.bulkImport(T.value,e),await q(),le(),alert(`Successfully imported ${e.length} vocabulary items`)}catch(s){console.error("Error importing CSV:",s),alert(`Error importing CSV: ${s.message}`)}finally{_.value=!1}},he=()=>{const e=[["word","uzbek","rus","example","audio_url","image_url"],["hello","salom","привет","Hello, how are you?","",""],["book","kitob","книга","I am reading a book.","",""],["water","suv","вода","Please give me some water.","",""]].map(C=>C.join(",")).join(`
`),l=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),f=URL.createObjectURL(l);a.setAttribute("href",f),a.setAttribute("download","vocabulary_sample_template.csv"),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},we=s=>{s>=1&&s<=N.value&&(b.value=s)},_e=()=>{b.value>1&&b.value--},ke=()=>{b.value<N.value&&b.value++};Y(E,()=>{b.value=1}),Y(A,()=>{b.value=1});let J=null;return Y(()=>o.value.audio_url,s=>{J&&clearTimeout(J),s&&s.trim()&&(J=setTimeout(()=>{Q(s.trim())},1e3))}),Ee(()=>{ne(),q()}),Te(()=>{g.value&&(g.value.pause(),g.value=null,i.value=null)}),(s,e)=>(u(),r("div",Ue,[t("div",ze,[t("div",{class:"flex items-center space-x-4 mb-4"},[t("button",{onClick:ve,class:"text-blue-600 hover:text-blue-800"},e[17]||(e[17]=[t("i",{class:"fas fa-arrow-left mr-2"},null,-1),v("Back to Vocabulary Sets ")]))]),t("div",Pe,[t("div",null,[t("h2",Re,n(D.value?.title||"Vocabulary Items"),1),t("p",je,n(D.value?.description||"Manage vocabulary items"),1)]),t("div",$e,[t("button",{onClick:e[0]||(e[0]=l=>H.value=!0),class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"},e[18]||(e[18]=[t("i",{class:"fas fa-upload mr-2"},null,-1),v("Bulk Import ")])),t("button",{onClick:ie,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},e[19]||(e[19]=[t("i",{class:"fas fa-plus mr-2"},null,-1),v("Add Word ")]))])])]),t("div",We,[t("div",De,[t("div",Be,[e[21]||(e[21]=t("div",{class:"p-3 bg-blue-500 rounded-full"},[t("i",{class:"fas fa-list text-white text-xl"})],-1)),t("div",Me,[e[20]||(e[20]=t("p",{class:"text-sm text-gray-600"},"Total Words",-1)),t("p",Fe,n(O.value.total),1)])])]),t("div",Ne,[t("div",Oe,[e[23]||(e[23]=t("div",{class:"p-3 bg-green-500 rounded-full"},[t("i",{class:"fas fa-volume-up text-white text-xl"})],-1)),t("div",qe,[e[22]||(e[22]=t("p",{class:"text-sm text-gray-600"},"With Audio",-1)),t("p",He,n(O.value.withAudio),1)])])]),t("div",Ge,[t("div",Qe,[e[25]||(e[25]=t("div",{class:"p-3 bg-purple-500 rounded-full"},[t("i",{class:"fas fa-image text-white text-xl"})],-1)),t("div",Je,[e[24]||(e[24]=t("p",{class:"text-sm text-gray-600"},"With Images",-1)),t("p",Ke,n(O.value.withImages),1)])])]),t("div",Ye,[t("div",Ze,[e[27]||(e[27]=t("div",{class:"p-3 bg-yellow-500 rounded-full"},[t("i",{class:"fas fa-quote-right text-white text-xl"})],-1)),t("div",Xe,[e[26]||(e[26]=t("p",{class:"text-sm text-gray-600"},"With Examples",-1)),t("p",et,n(O.value.withExamples),1)])])])]),t("div",tt,[t("div",lt,[t("div",st,[t("div",ot,[L(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>E.value=l),type:"text",placeholder:"Search vocabulary items...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[U,E.value]])]),L(t("select",{"onUpdate:modelValue":e[2]||(e[2]=l=>A.value=l),class:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"},e[28]||(e[28]=[t("option",{value:"all"},"All Items",-1),t("option",{value:"with-audio"},"With Audio",-1),t("option",{value:"with-images"},"With Images",-1),t("option",{value:"with-examples"},"With Examples",-1)]),512),[[Ve,A.value]]),t("button",{onClick:pe,class:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700"},e[29]||(e[29]=[t("i",{class:"fas fa-download mr-2"},null,-1),v("Export CSV ")]))])])]),t("div",at,[_.value?(u(),r("div",rt,e[30]||(e[30]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)]))):z.value.length===0?(u(),r("div",ut,[e[31]||(e[31]=t("div",{class:"text-gray-400 mb-4"},[t("i",{class:"fas fa-book-open text-6xl"})],-1)),e[32]||(e[32]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"No vocabulary items found",-1)),t("p",nt,n(E.value?"Try adjusting your search criteria":"Add your first vocabulary item to get started"),1)])):(u(),r("div",it,[(u(!0),r(se,null,oe(ue.value,l=>(u(),r("div",{key:l.id,class:"p-6 hover:bg-gray-50"},[t("div",dt,[t("div",ct,[t("div",vt,[l.image_url?(u(),r("img",{key:0,src:l.image_url,alt:l.word,class:"w-12 h-12 rounded object-cover"},null,8,gt)):(u(),r("i",pt))]),t("div",bt,[t("div",mt,[t("div",null,[t("h3",ft,n(l.word||"Unknown"),1),t("div",xt,[l.uzbek||l.uzbekTranslation?(u(),r("span",yt,[e[33]||(e[33]=t("i",{class:"fas fa-flag mr-1"},null,-1)),v("UZ: "+n(l.uzbek||l.uzbekTranslation),1)])):p("",!0),l.rus||l.russianTranslation?(u(),r("span",ht,[e[34]||(e[34]=t("i",{class:"fas fa-flag mr-1"},null,-1)),v("RU: "+n(l.rus||l.russianTranslation),1)])):p("",!0)])]),t("div",wt,[l.audio_url?(u(),r("button",{key:0,class:w(["p-2 rounded-full transition-colors",i.value===l.audio_url?"text-white bg-blue-600 hover:bg-blue-700":"text-blue-600 hover:bg-blue-50"]),onClick:a=>G(l.audio_url),title:i.value===l.audio_url?"Stop audio":"Play audio for "+l.word},[t("i",{class:w(i.value===l.audio_url?"fas fa-stop":"fas fa-volume-up")},null,2)],10,_t)):p("",!0),l.audio_url?(u(),r("span",{key:1,class:w(["px-2 py-1 text-xs rounded-full",i.value===l.audio_url?"bg-blue-100 text-blue-800 animate-pulse":"bg-green-100 text-green-800"])},n(i.value===l.audio_url?"Playing...":"Has Audio"),3)):(u(),r("span",kt,"No Audio")),l.image_url?(u(),r("span",Ct,"Has Image")):(u(),r("span",St,"No Image"))])]),l.example?(u(),r("p",Et,[e[35]||(e[35]=t("i",{class:"fas fa-quote-left mr-1"},null,-1)),v(' "'+n(l.example)+'" ',1)])):p("",!0)])]),t("div",Tt,[t("button",{onClick:a=>de(l),class:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 text-sm"},e[36]||(e[36]=[t("i",{class:"fas fa-edit mr-1"},null,-1),v("Edit ")]),8,Vt),t("button",{onClick:a=>ce(l),class:"bg-red-100 text-red-600 px-3 py-2 rounded-lg hover:bg-red-200 text-sm"},e[37]||(e[37]=[t("i",{class:"fas fa-trash mr-1"},null,-1),v("Delete ")]),8,Lt)])])]))),128))])),!_.value&&z.value.length>0?(u(),r("div",At,[t("div",It,[t("div",Ut," Showing "+n((b.value-1)*j.value+1)+" to "+n(Math.min(b.value*j.value,z.value.length))+" of "+n(z.value.length)+" vocabulary items ",1),t("div",zt,[t("button",{onClick:_e,disabled:b.value===1,class:"px-3 py-1 border border-gray-300 rounded-md text-sm text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Previous ",8,Pt),(u(!0),r(se,null,oe(Math.min(5,N.value),l=>(u(),r("button",{key:l,onClick:a=>we(l),class:w(l===b.value?"px-3 py-1 bg-blue-600 text-white rounded-md text-sm":"px-3 py-1 border border-gray-300 rounded-md text-sm text-gray-500 hover:bg-gray-50")},n(l),11,Rt))),128)),t("button",{onClick:ke,disabled:b.value===N.value,class:"px-3 py-1 border border-gray-300 rounded-md text-sm text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}," Next ",8,jt)])])])):p("",!0)]),M.value?(u(),r("div",$t,[t("div",Wt,[t("div",Dt,[t("h3",Bt,n(S.value?"Edit Vocabulary Item":"Add Vocabulary Item"),1)]),t("div",Mt,[t("form",{onSubmit:Z(ee,["prevent"]),class:"space-y-6"},[t("div",Ft,[t("div",null,[e[38]||(e[38]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"English Word *",-1)),L(t("input",{"onUpdate:modelValue":e[3]||(e[3]=l=>o.value.word=l),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter English word"},null,512),[[U,o.value.word]])]),t("div",null,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Uzbek Translation",-1)),L(t("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>o.value.uzbek=l),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter Uzbek translation"},null,512),[[U,o.value.uzbek]])])]),t("div",null,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Russian Translation",-1)),L(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>o.value.rus=l),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter Russian translation"},null,512),[[U,o.value.rus]])]),t("div",null,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Example Sentence",-1)),L(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=l=>o.value.example=l),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Enter an example sentence using this word"},"              ",512),[[U,o.value.example]])]),t("div",Nt,[t("div",null,[e[44]||(e[44]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Audio URL",-1)),t("div",Ot,[t("div",qt,[t("div",Ht,[L(t("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>o.value.audio_url=l),type:"url",class:w(["w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2",c.value[o.value.audio_url?.trim()]==="valid"?"border-green-300 focus:ring-green-500":c.value[o.value.audio_url?.trim()]==="error"?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"]),placeholder:"Enter audio file URL"},null,2),[[U,o.value.audio_url]]),o.value.audio_url?.trim()?(u(),r("div",Gt,[c.value[o.value.audio_url.trim()]==="checking"?(u(),r("i",Qt)):c.value[o.value.audio_url.trim()]==="valid"?(u(),r("i",Jt)):c.value[o.value.audio_url.trim()]==="error"?(u(),r("i",Kt)):p("",!0)])):p("",!0)]),o.value.audio_url?(u(),r("button",{key:0,type:"button",onClick:e[8]||(e[8]=l=>G(o.value.audio_url)),class:w(["px-3 py-2 rounded-md transition-colors",i.value===o.value.audio_url?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"]),title:i.value===o.value.audio_url?"Stop audio":"Test audio"},[t("i",{class:w(i.value===o.value.audio_url?"fas fa-stop":"fas fa-play")},null,2)],10,Yt)):p("",!0)]),t("div",Zt,[t("button",{type:"button",onClick:e[9]||(e[9]=l=>ge(o.value.word)),disabled:!o.value.word?.trim(),class:"flex-1 px-3 py-2 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm",title:"Generate Oxford Dictionary audio (fallback to TTS if not available)"},e[42]||(e[42]=[t("i",{class:"fas fa-book mr-1"},null,-1),v("Oxford Audio ")]),8,Xt),t("button",{type:"button",onClick:e[10]||(e[10]=l=>te(o.value.word)),disabled:!o.value.word?.trim(),class:"flex-1 px-3 py-2 bg-green-100 text-green-700 rounded-md hover:bg-green-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm",title:"Generate Text-to-Speech audio"},e[43]||(e[43]=[t("i",{class:"fas fa-microphone mr-1"},null,-1),v("TTS Audio ")]),8,el)])])]),t("div",null,[e[45]||(e[45]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Image URL",-1)),L(t("input",{"onUpdate:modelValue":e[11]||(e[11]=l=>o.value.image_url=l),type:"url",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter image URL"},null,512),[[U,o.value.image_url]])])]),t("div",tl,[e[52]||(e[52]=t("h4",{class:"font-medium text-blue-900 mb-2"},"Preview",-1)),t("div",ll,[t("p",null,[e[46]||(e[46]=t("strong",null,"Word:",-1)),v(" "+n(o.value.word||"-"),1)]),t("p",null,[e[47]||(e[47]=t("strong",null,"Translations:",-1)),o.value.uzbek||o.value.rus?(u(),r("span",sl,n([o.value.uzbek,o.value.rus].filter(Boolean).join(", ")),1)):(u(),r("span",ol,"-"))]),t("p",null,[e[48]||(e[48]=t("strong",null,"Example:",-1)),v(" "+n(o.value.example||"-"),1)]),o.value.audio_url?(u(),r("div",al,[e[49]||(e[49]=t("strong",null,"Audio:",-1)),t("button",{type:"button",onClick:e[12]||(e[12]=l=>G(o.value.audio_url)),class:w(["px-2 py-1 rounded text-xs transition-colors",i.value===o.value.audio_url?"bg-red-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"])},[t("i",{class:w(i.value===o.value.audio_url?"fas fa-stop":"fas fa-play")},null,2),v(" "+n(i.value===o.value.audio_url?"Stop":"Play"),1)],2),t("span",{class:w(["px-2 py-1 text-xs rounded-full",c.value[o.value.audio_url?.trim()]==="valid"?"bg-green-100 text-green-800":c.value[o.value.audio_url?.trim()]==="error"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"])},n(c.value[o.value.audio_url?.trim()]==="valid"?"Valid":c.value[o.value.audio_url?.trim()]==="error"?"Invalid":c.value[o.value.audio_url?.trim()]==="checking"?"Checking...":"Not checked"),3)])):p("",!0),o.value.image_url?(u(),r("div",rl,[e[50]||(e[50]=t("strong",null,"Image:",-1)),t("img",{src:o.value.image_url,alt:o.value.word||"Preview",class:"w-16 h-16 object-cover rounded border-2 border-purple-200 shadow-sm",onLoad:e[13]||(e[13]=()=>console.log("Preview section image loaded successfully")),onError:e[14]||(e[14]=l=>{console.log("Preview section image failed to load:",o.value.image_url),l.target.style.display="none"})},null,40,ul),e[51]||(e[51]=t("span",{class:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded-full"},"Available",-1))])):p("",!0)])])],32)]),t("div",nl,[t("button",{onClick:X,type:"button",class:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300"}," Cancel "),t("button",{onClick:ee,disabled:B.value,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},n(B.value?"Saving...":S.value?"Update Word":"Add Word"),9,il)])])])):p("",!0),H.value?(u(),r("div",dl,[t("div",cl,[e[59]||(e[59]=t("div",{class:"p-6 border-b border-gray-200"},[t("h3",{class:"text-lg font-semibold text-gray-800"},"Bulk Import Vocabulary")],-1)),t("div",vl,[t("div",gl,[t("div",null,[e[56]||(e[56]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"CSV File",-1)),t("div",{class:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",onDrop:me,onDragover:fe,onDragenter:e[16]||(e[16]=Z(()=>{},["prevent"]))},[e[54]||(e[54]=t("i",{class:"fas fa-cloud-upload-alt text-gray-400 text-3xl mb-4"},null,-1)),e[55]||(e[55]=t("p",{class:"text-gray-600 mb-2"},"Drag and drop your CSV file here, or click to select",-1)),k.value?(u(),r("p",pl,[e[53]||(e[53]=t("i",{class:"fas fa-file-csv mr-1"},null,-1)),v(n(k.value.name),1)])):p("",!0),t("input",{type:"file",accept:".csv",class:"hidden",ref_key:"csvFileInput",ref:F,onChange:be},null,544),t("button",{type:"button",onClick:e[15]||(e[15]=l=>F.value?.click()),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},n(k.value?"Change File":"Select CSV File"),1)],32)]),t("div",bl,[e[58]||(e[58]=t("h4",{class:"font-medium text-yellow-900 mb-2"},"CSV Format Requirements",-1)),t("div",ml,[e[57]||(e[57]=Le('<p>Your CSV file should have the following columns:</p><ul class="list-disc list-inside mt-2 space-y-1"><li><strong>word</strong> - English word (required)</li><li><strong>uzbek</strong> - Uzbek translation</li><li><strong>rus</strong> - Russian translation</li><li><strong>example</strong> - Example sentence</li><li><strong>audio_url</strong> - URL to audio file</li><li><strong>image_url</strong> - URL to image file</li></ul>',2)),t("p",fl,[t("a",{href:"#",onClick:Z(he,["prevent"]),class:"text-blue-600 hover:text-blue-800"}," Download sample CSV template ")])])])])]),t("div",xl,[t("button",{onClick:le,class:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300"}," Cancel "),t("button",{onClick:ye,disabled:!k.value||_.value,class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"},[_.value?(u(),r("i",hl)):p("",!0),v(" "+n(_.value?"Importing...":"Import CSV"),1)],8,yl)])])])):p("",!0)]))}};export{kl as default};
