import{a as S,g as x,h as u,i as A,c as r,b as t,j,t as a,k as i,e as v,n as g,F as T,l as D,m as N,o as n}from"./index-klw2IyYl.js";const I={class:"flex-1 p-6"},V={id:"homepage",class:"content-page active"},q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},P={class:"bg-white p-6 rounded-lg card-shadow"},U={class:"flex items-center"},B={class:"ml-4"},E={class:"text-2xl font-bold text-gray-800"},F={class:"bg-white p-6 rounded-lg card-shadow"},H={class:"flex items-center"},R={class:"ml-4"},Y={class:"text-2xl font-bold text-gray-800"},z={class:"bg-white p-6 rounded-lg card-shadow"},G={class:"flex items-center"},M={class:"ml-4"},Q={class:"text-2xl font-bold text-gray-800"},W={class:"bg-white p-6 rounded-lg card-shadow"},$={class:"flex items-center"},J={class:"ml-4"},K={class:"text-2xl font-bold text-gray-800"},O={class:"bg-white rounded-lg card-shadow mb-8"},X={class:"p-6 border-b border-gray-200"},Z={class:"flex justify-between items-center"},tt={class:"flex space-x-2"},et=["disabled"],st={key:0,class:"mt-3 text-sm text-red-600 bg-red-50 border border-red-200 rounded p-2"},at={class:"overflow-x-auto"},lt={class:"w-full"},ot={class:"bg-white divide-y divide-gray-200"},rt={key:0},nt={key:1},dt={class:"px-6 py-4 whitespace-nowrap"},it={class:"flex items-center"},ct={class:"ml-4"},ut={class:"text-sm font-medium text-gray-900"},gt={class:"text-sm text-gray-500"},xt={class:"px-6 py-4 whitespace-nowrap"},pt={class:"text-sm text-gray-900"},ft={class:"text-sm text-gray-500"},bt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},mt={class:"text-gray-500"},ht={class:"px-6 py-4 whitespace-nowrap"},yt={class:"px-6 py-4 whitespace-nowrap"},vt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},_t={key:0,class:"text-green-600 hover:text-green-900 mr-3"},wt={key:1,class:"text-blue-600 hover:text-blue-900 mr-3"},kt={key:2,class:"text-orange-600 hover:text-orange-900 mr-3"},Lt={key:3,class:"text-red-600 hover:text-red-900"},Ct={class:"px-6 py-3 border-t border-gray-200 bg-gray-50"},St={class:"flex items-center justify-between"},At={class:"text-sm text-gray-700"},jt={class:"flex items-center space-x-2"},Tt={class:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full"},Dt={class:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full"},Nt={class:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full"},qt={__name:"HomeView",setup(It){const p=S(),o=x([]),d=x(!1),c=x(""),f=async()=>{if(!p.user?.id){console.error("No teacher ID available");return}d.value=!0,c.value="";try{const s=await N.getByTeacherId(p.user.id);o.value=Array.isArray(s)?s:[]}catch(s){c.value=`Failed to fetch trial lessons: ${s.message}`,console.error("Error fetching trial lessons:",s),o.value=[]}finally{d.value=!1}},_=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",w=s=>s?new Date(s).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"N/A",k=s=>{switch(s?.toLowerCase()){case"belgilangan":return"bg-yellow-100 text-yellow-800";case"tugallangan":return"bg-green-100 text-green-800";case"bekor_qilingan":return"bg-red-100 text-red-800";case"jarayonda":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},L=s=>{switch(s?.toLowerCase()){case"belgilangan":return"Scheduled";case"tugallangan":return"Completed";case"bekor_qilingan":return"Cancelled";case"jarayonda":return"In Progress";default:return s||"Unknown"}},b=s=>{switch(s?.toLowerCase()){case"yangi":return"bg-blue-100 text-blue-800";case"kontakt_qilingan":return"bg-yellow-100 text-yellow-800";case"qabul_qilingan":return"bg-green-100 text-green-800";case"rad_qilingan":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},C=u(()=>o.value.length),m=u(()=>o.value.filter(s=>s.status?.toLowerCase()==="belgilangan").length),h=u(()=>o.value.filter(s=>s.status?.toLowerCase()==="tugallangan").length),y=u(()=>o.value.filter(s=>s.status?.toLowerCase()==="jarayonda").length);return A(()=>{f()}),(s,e)=>(n(),r("main",I,[t("div",V,[e[15]||(e[15]=t("div",{class:"mb-6"},[t("h2",{class:"text-2xl font-bold text-gray-800 mb-2"},"Dashboard"),t("p",{class:"text-gray-600"},"Welcome back! Here's what's happening in your classes.")],-1)),t("div",q,[t("div",P,[t("div",U,[e[1]||(e[1]=t("div",{class:"p-3 bg-blue-500 rounded-full"},[t("i",{class:"fas fa-users text-white text-xl"})],-1)),t("div",B,[e[0]||(e[0]=t("p",{class:"text-sm text-gray-600"},"Total Trial Lessons",-1)),t("p",E,a(C.value),1)])])]),t("div",F,[t("div",H,[e[3]||(e[3]=t("div",{class:"p-3 bg-yellow-500 rounded-full"},[t("i",{class:"fas fa-calendar text-white text-xl"})],-1)),t("div",R,[e[2]||(e[2]=t("p",{class:"text-sm text-gray-600"},"Scheduled",-1)),t("p",Y,a(m.value),1)])])]),t("div",z,[t("div",G,[e[5]||(e[5]=t("div",{class:"p-3 bg-green-500 rounded-full"},[t("i",{class:"fas fa-check-circle text-white text-xl"})],-1)),t("div",M,[e[4]||(e[4]=t("p",{class:"text-sm text-gray-600"},"Completed",-1)),t("p",Q,a(h.value),1)])])]),t("div",W,[t("div",$,[e[7]||(e[7]=t("div",{class:"p-3 bg-purple-500 rounded-full"},[t("i",{class:"fas fa-clock text-white text-xl"})],-1)),t("div",J,[e[6]||(e[6]=t("p",{class:"text-sm text-gray-600"},"In Progress",-1)),t("p",K,a(y.value),1)])])])]),e[16]||(e[16]=j('<div class="bg-white rounded-lg card-shadow p-6 mb-8"><h3 class="text-lg font-semibold text-gray-800 mb-4">Quick Actions</h3><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"><button class="flex items-center justify-center p-4 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors"><i class="fas fa-eye mr-2"></i> See Students </button><button class="flex items-center justify-center p-4 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors"><i class="fas fa-book mr-2"></i> Create Lesson </button><button class="flex items-center justify-center p-4 bg-purple-50 text-purple-600 rounded-lg hover:bg-purple-100 transition-colors"><i class="fas fa-clipboard-check mr-2"></i> Take Attendance </button><button class="flex items-center justify-center p-4 bg-yellow-50 text-yellow-600 rounded-lg hover:bg-yellow-100 transition-colors"><i class="fas fa-file-alt mr-2"></i> Grade Assignment </button></div></div>',1)),t("div",O,[t("div",X,[t("div",Z,[e[9]||(e[9]=t("h3",{class:"text-lg font-semibold text-gray-800"},"Trial Lessons Assigned to You",-1)),t("div",tt,[t("button",{onClick:f,disabled:d.value,class:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 text-sm disabled:opacity-50"},[t("i",{class:g(d.value?"fas fa-spinner fa-spin mr-1":"fas fa-refresh mr-1")},null,2),v(" "+a(d.value?"Loading...":"Refresh"),1)],8,et),e[8]||(e[8]=t("button",{class:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 text-sm"},[t("i",{class:"fas fa-eye mr-1"}),v("View All ")],-1))])]),c.value?(n(),r("div",st,a(c.value),1)):i("",!0)]),t("div",at,[t("table",lt,[e[14]||(e[14]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lead (Student)"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Contact Info"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Scheduled Date"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lead Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lesson Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),t("tbody",ot,[d.value?(n(),r("tr",rt,e[10]||(e[10]=[t("td",{colspan:"6",class:"px-6 py-8 text-center text-gray-500"},[t("i",{class:"fas fa-spinner fa-spin text-2xl mb-2"}),t("div",null,"Loading trial lessons...")],-1)]))):o.value.length===0?(n(),r("tr",nt,e[11]||(e[11]=[t("td",{colspan:"6",class:"px-6 py-8 text-center text-gray-500"},[t("i",{class:"fas fa-calendar-times text-3xl mb-2 text-gray-400"}),t("div",{class:"text-lg font-medium"},"No trial lessons found"),t("div",{class:"text-sm"},"You don't have any trial lessons assigned yet.")],-1)]))):(n(!0),r(T,{key:2},D(o.value,l=>(n(),r("tr",{key:l.id,class:"hover:bg-gray-50"},[t("td",dt,[t("div",it,[e[12]||(e[12]=t("div",{class:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center"},[t("i",{class:"fas fa-user text-blue-600"})],-1)),t("div",ct,[t("div",ut,a(l.lead?.first_name)+" "+a(l.lead?.last_name),1),t("div",gt,"Lead ID: "+a(l.lead?.id?.slice(0,8))+"...",1)])])]),t("td",xt,[t("div",pt,a(l.lead?.phone||"No phone"),1),t("div",ft,[t("span",{class:g([b(l.lead?.status),"px-2 py-1 text-xs font-medium rounded-full"])},a(l.lead?.status||"Unknown"),3)])]),t("td",bt,[t("div",null,a(_(l.scheduledAt)),1),t("div",mt,a(w(l.scheduledAt)),1)]),t("td",ht,[t("span",{class:g([b(l.lead?.status),"px-2 py-1 text-xs font-medium rounded-full"])},a(l.lead?.status||"Unknown"),3)]),t("td",yt,[t("span",{class:g([k(l.status),"px-2 py-1 text-xs font-medium rounded-full"])},a(L(l.status)),3)]),t("td",vt,[l.status?.toLowerCase()==="belgilangan"?(n(),r("button",_t," Start Lesson ")):i("",!0),l.status?.toLowerCase()==="tugallangan"?(n(),r("button",wt," View Results ")):i("",!0),l.status?.toLowerCase()==="jarayonda"?(n(),r("button",kt," Continue ")):i("",!0),e[13]||(e[13]=t("button",{class:"text-blue-600 hover:text-blue-900 mr-3"},"Edit",-1)),l.status?.toLowerCase()!=="tugallangan"?(n(),r("button",Lt," Cancel ")):i("",!0)])]))),128))])])]),t("div",Ct,[t("div",St,[t("div",At," Showing "+a(o.value.length)+" trial lesson"+a(o.value.length!==1?"s":""),1),t("div",jt,[t("span",Tt,a(m.value)+" Scheduled ",1),t("span",Dt,a(h.value)+" Completed ",1),t("span",Nt,a(y.value)+" In Progress ",1)])])])])])]))}};export{qt as default};
